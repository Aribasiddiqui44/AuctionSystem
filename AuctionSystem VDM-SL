types 
 String: Char*
 Bidders: TOKEN
values 
 MIN_PRICE : R = 1000 
state AuctionSystem of 
 reservePrice : R
 currentBid : R
 bidItem : String 
 startDate : String
 endDate : String
 auctionDate : String
 bidAmount : R
 stack: Bidders *
 inv mk-AuctionSystem (r_price, c_bid, b_item, s_date, e_date, a_date, b_amount, b_arr) 
 (b_amount = nil âˆ¨ b_amount != nil) âˆ§ (inRange(r_price) âˆ¨ r_price = nil) âˆ§ (b_item = 
 nil âˆ¨ b_item â‰  nil) âˆ§ (c_bid = r_price âˆ¨ c_bid = b_amount âˆ¨ c_bid = nil) âˆ§ (s_date 
 = nil âˆ¨ s_date â‰  nil) âˆ§ (e_date = nil âˆ¨ e_date â‰  nil âˆ§ (e_date > s_date) ) âˆ§ (a_date = 
 nil âˆ¨ a_date â‰  nil) âˆ§ (b_arr =[] âˆ¨ b_arr â‰  []) 
 init mk-AuctionSystem (r_price, c_bid, b_item, s_date, e_date, a_date, b_amount, b_arr) 
 r_price = nil âˆ§ c_bid = nil âˆ§ b_item = nil âˆ§ s_date = nil âˆ§ e_date = nil âˆ§ 
 a_date = nil âˆ§ b_amount = nil âˆ§ b_arr = [] 
end 
functions 
 inPriceRange (price : R ) result : bool 
 pre TRUE 
 post result â‡” price >= MIN_PRICE 
operations 
 StartAuction (initPrice: R, b_item: String, s_date:String, e_date: String) 
 ext wr reservePrice: [R] 
 wr startDate: [String] 
 wr endDate: [String] 
 wr currentBid: [String] 
 wr bidItem: [String]
 pre (reservePrice = nil âˆ¨ inPriceRange (reservePrice) âˆ§ startDate = nil âˆ§ endDate = 
 nil âˆ§ bidItem = nil 
 post (reservePrice = initPrice) âˆ§ (startDate = s_date ) âˆ§ (endDate = e_date ) âˆ§ 
 (currentBid = reservePrice) âˆ§ (bidItem = b_item) 
 PlaceBid (amount: R, date: String, name: Bidders) 
 ext wr bidAmount: [R] 
 wr auctionDate: [String] 
 wr stack: Bidders * 
 wr currentBid: [ R] 
 r startDate: [String] 
 r endDate: [String] 
 r reservePrice: [R] 
 pre (amount > reservePrice) âˆ§ amount > currentBid) âˆ§ (startDate < auctionDate 
 < endDate) 
 post (bidAmount = amount) âˆ§ (auctionDate = date ) âˆ§ (stack = [name] ^ ğ‘ ğ‘¡ğ‘ğ‘ğ‘˜) âˆ§ 
 (currentBid = bidAmount) 
CloseAuction (date: String) auctionWinner: String, winningBid : R
 ext r endDate: [String] 
 r stack: Bidders* 
 r currentBid: [R] 
 r reservePrice: [R] 
 pre currentBid > reservePrice âˆ§ bidders â‰  [] âˆ§ date = endDate 
 post (stack = tl ğ‘ ğ‘¡ğ‘ğ‘ğ‘˜ âˆ§ auctionWinner = hd ğ‘ ğ‘¡ğ‘ğ‘ğ‘˜) âˆ§ (winningBid =currentBid) 
